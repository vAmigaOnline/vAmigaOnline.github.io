import{S as _e,i as pe,s as Se,C as a,o as eo,D as o,e as ge,b as I,E as ut,h as b,k as x,q as L,a as Me,l as W,m as F,r as N,c as le,n as H,F as P,u as xs,G as co,w as Ws,H as uo,x as Fs,y as Vs,I as go,J as Mo,K as lo,f as ne,t as ce,z as Bs,L as _o,M as gt}from"../../chunks/index-7d5f5cba.js";import{p as z,M as Mt,a as lt,b as _t,d as Ks,c as pt,e as St,f as it,g as dt,h as Rt,w as po,i as kt,j as Et,k as Dt,l as bt,m as mt,n as ft,o as Ot,q as Ct,r as Pt,s as yt,t as Gt,u as ht,v as At,x as Tt,y as js,z as It,A as wt,B as zs,C as Ut,D as Lt,E as rt,F as qs,G as Nt,H as Ht,I as Js,J as xt,K as Wt,L as Xs,N as Ft,O as Vt,P as Bt,Q as Kt,R as jt,S as zt,T as qt,U as Jt,V as Ys,W as Xt,X as Yt,Y as Qt,Z as Zt,_ as vt,$ as $t,a0 as er,a1 as sr,a2 as Qs,a3 as tr,a4 as rr,a5 as or,a6 as ar,a7 as nr,a8 as cr,a9 as ur,aa as gr,ab as Mr,ac as lr,ad as _r,ae as pr,af as Sr,ag as ir,ah as dr,ai as Rr,aj as kr,ak as Er,al as Dr,am as Zs,an as br,ao as mr,ap as vs,aq as fr,ar as Or,as as $s,at as Cr,au as Pr,av as yr,aw as Gr,ax as hr,ay as Ar,az as ue,aA as Tr,aB as Ir,aC as et,aD as wr,aE as Ur,aF as Lr,aG as Nr,aH as Hr,aI as xr,aJ as Wr,aK as Fr,aL as ot,aM as Vr,aN as Br,aO as Kr,aP as jr,aQ as zr,aR as qr,aS as Jr,aT as at,aU as Xr,aV as Yr,aW as Qr,aX as Zr,aY as st,aZ as So,a_ as tt,a$ as io,b0 as Ro}from"../../chunks/db-c7058000.js";function ko(r,u,s){let t,M,g,p,l,R,E,S,_,O,i,n,d,m,D,y,k,C,h,A,T,ie,de,Re,ke,q,Ee,De,J,be,me,V,X,fe,Oe,Y,Ce,Pe,Q,ye,Ge,he,Ae,Te,Ie,we,Ue,Z,Le,Ne,He,xe,We,Fe,Ve,Be,v,Ke,je,ze,qe,Je,Xe,Ye,Qe,Ze,ve,$e,es,ss,ts,rs,os,as,ns,cs,$,us,gs,ee,Ms,ls,se,_s,ps,Ss,is,ds,Rs,w,ks,Es,te,Ds,bs,ms,fs,Os,Cs,Ps,ys,f,Gs,hs,As,G,Ts,Is,ws,Us,oe,Ls,Ns,Hs,re;a(r,z,e=>s(10,t=e)),a(r,Mt,e=>s(11,M=e)),a(r,lt,e=>s(12,g=e)),a(r,_t,e=>s(13,p=e)),a(r,Ks,e=>s(14,l=e)),a(r,pt,e=>s(15,R=e)),a(r,St,e=>s(16,E=e)),a(r,it,e=>s(17,S=e)),a(r,dt,e=>s(18,_=e)),a(r,Rt,e=>s(19,O=e)),a(r,po,e=>s(9,i=e)),a(r,kt,e=>s(20,n=e)),a(r,Et,e=>s(21,d=e)),a(r,Dt,e=>s(22,m=e)),a(r,bt,e=>s(23,D=e)),a(r,mt,e=>s(24,y=e)),a(r,ft,e=>s(25,k=e)),a(r,Ot,e=>s(26,C=e)),a(r,Ct,e=>s(27,h=e)),a(r,Pt,e=>s(28,A=e)),a(r,yt,e=>s(29,T=e)),a(r,Gt,e=>s(30,ie=e)),a(r,ht,e=>s(31,de=e)),a(r,At,e=>s(32,Re=e)),a(r,Tt,e=>s(33,ke=e)),a(r,js,e=>s(34,q=e)),a(r,It,e=>s(35,Ee=e)),a(r,wt,e=>s(36,De=e)),a(r,zs,e=>s(37,J=e)),a(r,Ut,e=>s(38,be=e)),a(r,Lt,e=>s(39,me=e)),a(r,rt,e=>s(40,V=e)),a(r,qs,e=>s(41,X=e)),a(r,Nt,e=>s(42,fe=e)),a(r,Ht,e=>s(43,Oe=e)),a(r,Js,e=>s(44,Y=e)),a(r,xt,e=>s(45,Ce=e)),a(r,Wt,e=>s(46,Pe=e)),a(r,Xs,e=>s(47,Q=e)),a(r,Ft,e=>s(48,ye=e)),a(r,Vt,e=>s(49,Ge=e)),a(r,Bt,e=>s(50,he=e)),a(r,Kt,e=>s(51,Ae=e)),a(r,jt,e=>s(52,Te=e)),a(r,zt,e=>s(53,Ie=e)),a(r,qt,e=>s(54,we=e)),a(r,Jt,e=>s(55,Ue=e)),a(r,Ys,e=>s(56,Z=e)),a(r,Xt,e=>s(57,Le=e)),a(r,Yt,e=>s(58,Ne=e)),a(r,Qt,e=>s(59,He=e)),a(r,Zt,e=>s(60,xe=e)),a(r,vt,e=>s(61,We=e)),a(r,$t,e=>s(62,Fe=e)),a(r,er,e=>s(63,Ve=e)),a(r,sr,e=>s(64,Be=e)),a(r,Qs,e=>s(65,v=e)),a(r,tr,e=>s(66,Ke=e)),a(r,rr,e=>s(67,je=e)),a(r,or,e=>s(68,ze=e)),a(r,ar,e=>s(69,qe=e)),a(r,nr,e=>s(70,Je=e)),a(r,cr,e=>s(71,Xe=e)),a(r,ur,e=>s(72,Ye=e)),a(r,gr,e=>s(73,Qe=e)),a(r,Mr,e=>s(74,Ze=e)),a(r,lr,e=>s(75,ve=e)),a(r,_r,e=>s(76,$e=e)),a(r,pr,e=>s(77,es=e)),a(r,Sr,e=>s(78,ss=e)),a(r,ir,e=>s(79,ts=e)),a(r,dr,e=>s(80,rs=e)),a(r,Rr,e=>s(81,os=e)),a(r,kr,e=>s(82,as=e)),a(r,Er,e=>s(83,ns=e)),a(r,Dr,e=>s(84,cs=e)),a(r,Zs,e=>s(85,$=e)),a(r,br,e=>s(86,us=e)),a(r,mr,e=>s(87,gs=e)),a(r,vs,e=>s(88,ee=e)),a(r,fr,e=>s(89,Ms=e)),a(r,Or,e=>s(90,ls=e)),a(r,$s,e=>s(91,se=e)),a(r,Cr,e=>s(92,_s=e)),a(r,Pr,e=>s(93,ps=e)),a(r,yr,e=>s(94,Ss=e)),a(r,Gr,e=>s(95,is=e)),a(r,hr,e=>s(96,ds=e)),a(r,Ar,e=>s(97,Rs=e)),a(r,ue,e=>s(98,w=e)),a(r,Tr,e=>s(99,ks=e)),a(r,Ir,e=>s(100,Es=e)),a(r,et,e=>s(101,te=e)),a(r,wr,e=>s(102,Ds=e)),a(r,Ur,e=>s(103,bs=e)),a(r,Lr,e=>s(104,ms=e)),a(r,Nr,e=>s(105,fs=e)),a(r,Hr,e=>s(106,Os=e)),a(r,xr,e=>s(107,Cs=e)),a(r,Wr,e=>s(108,Ps=e)),a(r,Fr,e=>s(109,ys=e)),a(r,ot,e=>s(110,f=e)),a(r,Vr,e=>s(111,Gs=e)),a(r,Br,e=>s(112,hs=e)),a(r,Kr,e=>s(113,As=e)),a(r,jr,e=>s(114,G=e)),a(r,zr,e=>s(115,Ts=e)),a(r,qr,e=>s(116,Is=e)),a(r,Jr,e=>s(117,ws=e)),a(r,at,e=>s(118,Us=e)),a(r,Xr,e=>s(119,oe=e)),a(r,Yr,e=>s(120,Ls=e)),a(r,Qr,e=>s(121,Ns=e)),a(r,Zr,e=>s(122,Hs=e)),a(r,st,e=>s(123,re=e)),eo(()=>{console.log("Proxy: onMount()"),o(z,t.processMsg=no,t)});async function so(e){await V.setup();try{console.log("Running "+e.title+"..."),f.powerOff(),console.log("requiredRom = "+e.requiredRom),e.requiredRom&&(console.log("Installing Rom: "+e.requiredRom),t.installRom(e.requiredRom)),console.log("Configuring CHIP: "+e.memory[0]),f.configure(t.OPT_CHIP_RAM,e.memory[0]),console.log("Configuring SLOW: "+e.memory[1]),f.configure(t.OPT_SLOW_RAM,e.memory[1]),console.log("Configuring FAST: "+e.memory[2]),f.configure(t.OPT_FAST_RAM,e.memory[2]);for(let c=0;c<e.adf.length;c++)console.log("Inserting disk "+c+": "+e.adf[c]),await ct(e.adf[c],c);f.run()}catch(c){throw console.log("CATCHED "+c),c}}function nt(){console.error("Exception "+f.errorCode()+": "+f.what())}async function ct(e,c){try{console.log("Fetching adf/"+e);let U=await(await fetch("adf/"+e)).arrayBuffer(),j=new Uint8Array(U);console.log("Calling $amiga.insertDisk"),f.insertDisk(j,U.byteLength,c)}catch{nt()}}async function ae(e){if(e==0)return G.deleteRom(),G.deleteExt(),o(st,re=e,re),!0;try{const c=await So.roms.get(e);return c?(c!=null&&c.rom?(G.loadRom(c.rom,c.rom.length),o(st,re=e,re)):G.deleteRom(),c!=null&&c.ext?G.loadExt(c.ext,c.ext.length):G.deleteExt(),console.log("Rom added",c==null?void 0:c.title),!0):!1}catch(c){return console.log("installRom failed: ",c),!1}}async function to(e){for(const c of e)if(await ae(c))return!0;return!1}async function ro(){ae(1062194186)}async function oo(){ae(2231503309)}function B(e){if(!f)return;let c=!1;switch(e){case tt.auto:c=oe.isSpinning();break;case tt.never:c=!1;break;case tt.always:c=!0;break}c?f.warpOn():f.warpOff()}function ao(){console.log("Creating proxies..."),o(Zr,Hs=new t.AgnusProxy,Hs),o(ot,f=new t.AmigaProxy,f),o(Qr,Ns=new t.CPUProxy,Ns),o(Yr,Ls=new t.DeniseProxy,Ls),o(Xr,oe=new t.DiskControllerProxy,oe),o(at,Us=new t.EnumProxy,Us),o(Jr,ws=new t.JoystickProxy(1),ws),o(qr,Is=new t.JoystickProxy(2),Is),o(zr,Ts=new t.KeyboardProxy,Ts),o(jr,G=new t.MemoryProxy,G),o(Kr,As=new t.MouseProxy(1),As),o(Br,hs=new t.MouseProxy(2),hs),o(Vr,Gs=new t.RetroShellProxy,Gs),console.log("Configuring the emulator..."),f.configure(t.OPT_AGNUS_REVISION,t.AGNUS_ECS_2MB),o(Fr,ys={ArrowLeft:t.PULL_LEFT,ArrowRight:t.PULL_RIGHT,ArrowUp:t.PULL_UP,ArrowDown:t.PULL_DOWN,ControlRight:t.PRESS_FIRE,Space:t.PRESS_FIRE},ys),o(Wr,Ps={KeyS:t.PULL_LEFT,KeyD:t.PULL_RIGHT,KeyE:t.PULL_UP,KeyX:t.PULL_DOWN,KeyC:t.RELEASE_FIRE},Ps),(async()=>{console.log("Installing Roms...");const e=[3304125791,2798523958,3283989056,1062194186];t.installRoms(e),console.log("Initialization completed"),o(xr,Cs=!0,Cs)})()}function no(e,c,K,U,j){switch(e){case t.MSG_NONE:o(Hr,Os++,Os);break;case t.MSG_REGISTER:o(Nr,fs++,fs);break;case t.MSG_CONFIG:o(Lr,ms++,ms);break;case t.MSG_POWER_ON:o(Ur,bs++,bs),o(et,te=!0,te);break;case t.MSG_POWER_OFF:o(wr,Ds++,Ds),o(et,te=!1,te),o(ue,w=!1,w);break;case t.MSG_RUN:o(Ir,Es++,Es),o(ue,w=!0,w);break;case t.MSG_PAUSE:o(Tr,ks++,ks),o(ue,w=!1,w);break;case t.MSG_STEP:o(Ar,Rs++,Rs);break;case t.MSG_RESET:o(hr,ds++,ds),B(i),o(Qs,v=!1,v);break;case t.MSG_HALT:o(Gr,is++,is);break;case t.MSG_ABORT:o(yr,Ss++,Ss);break;case t.MSG_WARP_ON:o(Pr,ps++,ps),o($s,se=!0,se);break;case t.MSG_WARP_OFF:o(Cr,_s++,_s),o($s,se=!1,se);break;case t.MSG_DEBUG_ON:o(Or,ls++,ls),console.log("debug mode on"),o(vs,ee=!0,ee);break;case t.MSG_DEBUG_OFF:o(fr,Ms++,Ms),console.log("debug mode off"),o(vs,ee=!1,ee);break;case t.MSG_MUTE_ON:o(mr,gs++,gs),o(Zs,$=!0,$);break;case t.MSG_MUTE_OFF:o(br,us++,us),o(Zs,$=!1,$);break;case t.MSG_POWER_LED_ON:o(Dr,cs++,cs);break;case t.MSG_POWER_LED_DIM:o(Er,ns++,ns);break;case t.MSG_POWER_LED_OFF:o(kr,as++,as);break;case t.MSG_CLOSE_CONSOLE:o(Rr,os++,os);break;case t.MSG_UPDATE_CONSOLE:o(dr,rs++,rs);break;case t.MSG_SCRIPT_DONE:o(ir,ts++,ts);break;case t.MSG_SCRIPT_PAUSE:o(Sr,ss++,ss);break;case t.MSG_SCRIPT_ABORT:o(pr,es++,es);break;case t.MSG_SCRIPT_WAKEUP:o(_r,$e++,$e);break;case t.MSG_VIDEO_FORMAT:o(lr,ve++,ve);break;case t.MSG_OVERCLOCKING:o(Mr,Ze++,Ze);break;case t.MSG_BREAKPOINT_REACHED:o(gr,Qe++,Qe);break;case t.MSG_BREAKPOINT_UPDATED:o(ur,Ye++,Ye);break;case t.MSG_WATCHPOINT_REACHED:o(cr,Xe++,Xe);break;case t.MSG_WATCHPOINT_UPDATED:o(nr,Je++,Je);break;case t.MSG_CATCHPOINT_REACHED:o(ar,qe++,qe);break;case t.MSG_CATCHPOINT_UPDATED:o(or,ze++,ze);break;case t.MSG_SWTRAP_REACHED:o(rr,je++,je);break;case t.MSG_CPU_HALT:o(tr,Ke++,Ke),o(Qs,v=!0,v);break;case t.MSG_COPPERBP_REACHED:o(sr,Be++,Be);break;case t.MSG_COPPERBP_UPDATED:o(er,Ve++,Ve);break;case t.MSG_COPPERWP_REACHED:o($t,Fe++,Fe);break;case t.MSG_COPPERWP_UPDATED:o(vt,We++,We);break;case t.MSG_VIEWPORT:o(Zt,xe++,xe);break;case t.MSG_MEM_LAYOUT:o(Qt,He++,He);break;case t.MSG_DRIVE_CONNECT:o(Yt,Ne++,Ne),o(Ys,Z[c]=!0,Z);break;case t.MSG_DRIVE_DISCONNECT:o(Xt,Le++,Le),o(Ys,Z[c]=!1,Z);break;case t.MSG_DRIVE_SELECT:o(Jt,Ue++,Ue);break;case t.MSG_DRIVE_READ:o(qt,we++,we);break;case t.MSG_DRIVE_WRITE:o(zt,Ie++,Ie),o(jt,Te[c]=K==1,Te);break;case t.MSG_DRIVE_LED_ON:o(Kt,Ae++,Ae);break;case t.MSG_DRIVE_LED_OFF:o(Bt,he++,he);break;case t.MSG_DRIVE_MOTOR_ON:o(Vt,Ge++,Ge),o(Xs,Q[c]=!0,Q),B(i);break;case t.MSG_DRIVE_MOTOR_OFF:o(Ft,ye++,ye),o(Xs,Q[c]=!1,Q),B(i);break;case t.MSG_DRIVE_STEP:o(Wt,Pe++,Pe),o(Js,Y[c]=K,Y),V.playStepSound(U,j);break;case t.MSG_DRIVE_POLL:o(xt,Ce++,Ce),o(Js,Y[c]=K,Y),V.playStepSound(U,j);break;case t.MSG_DISK_INSERT:o(Ht,Oe++,Oe),o(qs,X[c]=!0,X),V.playInsertSound(U,j);break;case t.MSG_DISK_EJECT:o(Nt,fe++,fe),o(qs,X[c]=!1,X),V.playEjectSound(U,j);break;case t.MSG_DISK_SAVED:o(Lt,me++,me),o(zs,J[c]=!1,J);break;case t.MSG_DISK_UNSAVED:o(Ut,be++,be),o(zs,J[c]=!0,J);break;case t.MSG_DISK_PROTECT:o(wt,De++,De),o(js,q[c]=!0,q);break;case t.MSG_DISK_UNPROTECT:o(It,Ee++,Ee),o(js,q[c]=!1,q);break;case t.MSG_HDC_CONNECT:o(Tt,ke++,ke);break;case t.MSG_HDC_DISCONNECT:o(At,Re++,Re);break;case t.MSG_HDC_STATE:o(ht,de++,de);break;case t.MSG_HDR_STEP:o(Gt,ie++,ie);break;case t.MSG_HDR_READ:o(yt,T++,T);break;case t.MSG_HDR_WRITE:o(Pt,A++,A);break;case t.MSG_HDR_IDLE:o(Ct,h++,h);break;case t.MSG_CTRL_AMIGA_AMIGA:o(Ot,C++,C);break;case t.MSG_SHAKING:console.log("MSG_SHAKING"),o(ft,k++,k);break;case t.MSG_SER_IN:o(mt,y++,y);break;case t.MSG_SER_OUT:o(bt,D++,D);break;case t.MSG_AUTO_SNAPSHOT_TAKEN:o(Dt,m++,m);break;case t.MSG_USER_SNAPSHOT_TAKEN:o(Et,d++,d);break;case t.MSG_SNAPSHOT_RESTORED:o(kt,n++,n),B(i);break;case t.MSG_RECORDING_STARTED:o(Rt,O++,O);break;case t.MSG_RECORDING_STOPPED:o(dt,_++,_);break;case t.MSG_RECORDING_ABORTED:o(it,S++,S);break;case t.MSG_DMA_DEBUG_ON:o(St,E++,E),o(Ks,l=!0,l);break;case t.MSG_DMA_DEBUG_OFF:o(pt,R++,R),o(Ks,l=!1,l);break;case t.MSG_SRV_STATE:o(_t,p++,p);break;case t.MSG_SRV_RECEIVE:o(lt,g++,g);break;case t.MSG_SRV_SEND:o(Mt,M++,M);break}}return r.$$.update=()=>{r.$$.dirty[0]&512&&B(i)},[so,nt,ct,ae,to,ro,oo,B,ao,i]}class Eo extends _e{constructor(u){super(),pe(this,u,ko,null,Se,{runShowcase:0,reportException:1,insert:2,installRom:3,installRoms:4,installAros:5,installDiagRom:6,updateWarp:7,onRuntimeInitialized:8},null,[-1,-1,-1,-1,-1])}get runShowcase(){return this.$$.ctx[0]}get reportException(){return this.$$.ctx[1]}get insert(){return this.$$.ctx[2]}get installRom(){return this.$$.ctx[3]}get installRoms(){return this.$$.ctx[4]}get installAros(){return this.$$.ctx[5]}get installDiagRom(){return this.$$.ctx[6]}get updateWarp(){return this.$$.ctx[7]}get onRuntimeInitialized(){return this.$$.ctx[8]}}function Do(r,u,s){let t,M;a(r,ot,k=>s(11,t=k)),a(r,z,k=>s(12,M=k));let g=null,p=null,l=null,R=null,E=null,S=0;async function _(){if(g){console.log("Audio context already initialized: ",g.state);return}g=new AudioContext,g.onstatechange=()=>console.log("Audio Context: state = "+(g==null?void 0:g.state));let k=g.createGain();k.gain.value=.15,k.connect(g.destination),t.setSampleRate(g.sampleRate),await g.audioWorklet.addModule("js/audio-processor.js");const C=new AudioWorkletNode(g,"audio-processor",{outputChannelCount:[2],processorOptions:{pointers:[t.leftChannelBuffer(),t.rightChannelBuffer()],buffer:M.HEAPF32.buffer,length:2048}});C.port.onmessage=h=>{t.updateAudio(h.data)},C.connect(g.destination),g.state==="suspended"&&g.resume(),O()}async function O(){p==null&&(p=await y("sounds/insert.mp3")),l==null&&(l=await y("sounds/eject.mp3")),R==null&&(R=await y("sounds/step.mp3")),E==null&&(E=await y("sounds/stephd.mp3"))}function i(k,C){D(p,k)}function n(k,C){D(l,k)}function d(k,C){D(R,k)}function m(k,C){D(E,k)}async function D(k,C,h){if(k==null||S>=3)return;const A=g.createGain();A.gain.value=.004*C,A.connect(g.destination);const T=g.createBufferSource();T.buffer=k,T.addEventListener("ended",()=>{S--}),T.connect(A),T.start(),S++}async function y(k){console.log("load_sound: url = "+k);let h=await(await fetch(k)).arrayBuffer();return await g.decodeAudioData(h)}return[_,i,n,d,m]}class bo extends _e{constructor(u){super(),pe(this,u,Do,null,Se,{setup:0,playInsertSound:1,playEjectSound:2,playStepSound:3,playClickSound:4})}get setup(){return this.$$.ctx[0]}get playInsertSound(){return this.$$.ctx[1]}get playEjectSound(){return this.$$.ctx[2]}get playStepSound(){return this.$$.ctx[3]}get playClickSound(){return this.$$.ctx[4]}}function vr(r){let u,s,t,M,g,p,l=r[3].ErrorCodeKey(r[1])+"",R,E,S,_,O,i;return{c(){u=x("div"),s=x("div"),t=x("p"),M=L("Software failure. Uncaught exception "),g=L(r[1]),p=L(" ("),R=L(l),E=L(")"),S=Me(),_=x("p"),O=L(r[4]),this.h()},l(n){u=W(n,"DIV",{class:!0});var d=F(u);s=W(d,"DIV",{class:!0});var m=F(s);t=W(m,"P",{class:!0});var D=F(t);M=N(D,"Software failure. Uncaught exception "),g=N(D,r[1]),p=N(D," ("),R=N(D,l),E=N(D,")"),D.forEach(b),S=le(m),_=W(m,"P",{class:!0});var y=F(_);O=N(y,r[4]),y.forEach(b),m.forEach(b),d.forEach(b),this.h()},h(){H(t,"class","p-1"),H(_,"class","p-1"),H(s,"class","h-24 w-full border-none flex flex-col justify-center text-lg font-azeret text-center"),H(u,"class",i="relative flex justify-center bg-black text-red-600 border-[10px] "+r[2])},m(n,d){I(n,u,d),P(u,s),P(s,t),P(t,M),P(t,g),P(t,p),P(t,R),P(t,E),P(s,S),P(s,_),P(_,O)},p(n,d){d&2&&xs(g,n[1]),d&10&&l!==(l=n[3].ErrorCodeKey(n[1])+"")&&xs(R,l),d&16&&xs(O,n[4]),d&4&&i!==(i="relative flex justify-center bg-black text-red-600 border-[10px] "+n[2])&&H(u,"class",i)},d(n){n&&b(u)}}}function mo(r){let u,s=r[0]&&vr(r);return{c(){s&&s.c(),u=ge()},l(t){s&&s.l(t),u=ge()},m(t,M){s&&s.m(t,M),I(t,u,M)},p(t,[M]){t[0]?s?s.p(t,M):(s=vr(t),s.c(),s.m(u.parentNode,u)):s&&(s.d(1),s=null)},i:ut,o:ut,d(t){s&&s.d(t),t&&b(u)}}}function fo(r,u,s){let t,M,g,p,l,R;a(r,io,_=>s(1,g=_)),a(r,z,_=>s(7,p=_)),a(r,at,_=>s(3,l=_)),a(r,Ro,_=>s(4,R=_));let E=!1,S=!0;return r.$$.update=()=>{r.$$.dirty&128&&s(6,t=p!=null),r.$$.dirty&99&&g&&t&&!E&&(s(0,E=!0),setInterval(()=>{s(5,S=!S)},800)),r.$$.dirty&32&&s(2,M=S?"border-red-600":"border-black")},[E,g,M,l,R,S,t,p]}class Oo extends _e{constructor(u){super(),pe(this,u,fo,mo,Se,{})}}function $r(r){let u,s,t,M,g;return{c(){u=x("script"),s=L("console.log('Loading vAmiga.js');"),t=Me(),M=x("script"),this.h()},l(p){u=W(p,"SCRIPT",{});var l=F(u);s=N(l,"console.log('Loading vAmiga.js');"),l.forEach(b),t=le(p),M=W(p,"SCRIPT",{src:!0});var R=F(M);R.forEach(b),this.h()},h(){_o(M.src,g="vAmiga.js")||H(M,"src",g)},m(p,l){I(p,u,l),P(u,s),I(p,t,l),I(p,M,l)},d(p){p&&b(u),p&&b(t),p&&b(M)}}}function Co(r){let u,s,t,M,g,p,l,R,E={};u=new Eo({props:E}),r[5](u);let S={};s=new bo({props:S}),r[6](s);let _=r[0]&&$r();g=new Oo({});const O=r[4].default,i=co(O,r,r[3],null);return{c(){Ws(u.$$.fragment),Ws(s.$$.fragment),_&&_.c(),t=ge(),M=Me(),Ws(g.$$.fragment),p=Me(),l=x("div"),i&&i.c(),this.h()},l(n){const d=uo("svelte-1wqmdkl",document.head);Fs(u.$$.fragment,d),Fs(s.$$.fragment,d),_&&_.l(d),t=ge(),d.forEach(b),M=le(n),Fs(g.$$.fragment,n),p=le(n),l=W(n,"DIV",{class:!0});var m=F(l);i&&i.l(m),m.forEach(b),this.h()},h(){H(l,"class","relative")},m(n,d){Vs(u,document.head,null),Vs(s,document.head,null),_&&_.m(document.head,null),P(document.head,t),I(n,M,d),Vs(g,n,d),I(n,p,d),I(n,l,d),i&&i.m(l,null),R=!0},p(n,[d]){const m={};u.$set(m);const D={};s.$set(D),n[0]?_||(_=$r(),_.c(),_.m(t.parentNode,t)):_&&(_.d(1),_=null),i&&i.p&&(!R||d&8)&&go(i,O,n,n[3],R?lo(O,n[3],d,null):Mo(n[3]),null)},i(n){R||(ne(u.$$.fragment,n),ne(s.$$.fragment,n),ne(g.$$.fragment,n),ne(i,n),R=!0)},o(n){ce(u.$$.fragment,n),ce(s.$$.fragment,n),ce(g.$$.fragment,n),ce(i,n),R=!1},d(n){r[5](null),Bs(u),r[6](null),Bs(s),_&&_.d(n),b(t),n&&b(M),Bs(g,n),n&&b(p),n&&b(l),i&&i.d(n)}}}function Po(r,u,s){let t,M;a(r,z,S=>s(1,t=S)),a(r,rt,S=>s(2,M=S));let{$$slots:g={},$$scope:p}=u,l=!1;eo(()=>{console.log("+layout: onMount()"),window.Module=t,s(0,l=!0)});function R(S){gt[S?"unshift":"push"](()=>{t=S,z.set(t)})}function E(S){gt[S?"unshift":"push"](()=>{M=S,rt.set(M)})}return r.$$set=S=>{"$$scope"in S&&s(3,p=S.$$scope)},[l,t,M,p,g,R,E]}class ho extends _e{constructor(u){super(),pe(this,u,Po,Co,Se,{})}}export{ho as default};
